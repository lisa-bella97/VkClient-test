language: generic
matrix:
  include:
    - os: linux
      sudo: required
      env: COMPILER_NAME=gcc CXX=g++-5 CC=gcc-5
      addons:
        apt:
          packages:
            - g++-5
            - cmake
          sources: &sources
            - llvm-toolchain-precise
            - ubuntu-toolchain-r-test
    - os: osx
      compiler: clang-3.8
      env: COMPILER="clang++-3.8" -std=c++11 OPENSSL_ROOT_DIR="/usr/local/opt/openssl"
env:
  global:
    - secure: "Qxv4DzZZ+NAniw9Lxv5FUm9A35b2OEGdiUDMnSr94OLxAWlAvvtZ5cKdnvk+97JIFGDtPryz45JTGyZY7lyiL8wVPXADf9S7pIK4GjzspOlzQOnm4XepM5UO3BIfXVV5Zld7aqLRtlj0bDtvfZzE04FvZD3HNuG8eC+PnQMfrptG3AHpzT96Yxe2Ef733JrnTZ/0WV2uM1slqkDIHm3rp/UAEYE1U5dOcw0a4OhnccPdOHuf/eNLlsQkGhLbN0V/e0sWkL5j/Eoex7jxZnvLGJ+Qyfspn0yBEJgXXFcWcwmrhQprCUFcjbrBoaGtiXkTHaPjXSKU5zyJobAn22K55VoNezK+A+JzTGudEbh5+UqBPcjZHaexwQNxz7+GNo8haZajpuF5K5kE6i3/IoI8OkfI38XFt9Lfcq4KQz1AblcQqO2EQukzHEXr3ivDgmwL08gm2mx4l8oPjM5YxZGw0Y6RZvSxVgDYRCDXi9O3Hf9oJ7+pHXvoisof57seaipbyBIkQIRw69PD/u/aX5Azf9MlHLsXj06pIMzUkFBI9DibLJz+RQUGsz0dfAM2kh3hRHFB1Xg9QnPpQ3aMgoX9Ncl7l+CsX6iVe9w9O56SFEn079Y+Hcd+Mgd+UJCqUU3ApdMz/hWdIHrT39xObBLnRvK3nPS3y3+a6OWgqAjTTTY="
    - secure: "Zcb78hbHmJ2QCcW6SCZySRl89v5wOTmRAzX3SpNaeSv6TPlHO3P2wj3pQAe067f2gIcaqkR2/AVHVvysYLihEQRzEI+G9iefv4EzIdNy9UaG+xEAfnzghJESVTXT/ykSDOD72c8bWtdLjZM8r0UjUh51OGvZFJ5C7zgwCFqlU50Piirc/mKZuvYrhQOTyjw0fiEBZQbM0zLaWbAUTwGWGouDLbGSVH9hmLapNNqBe2oPX/BxfmzBL/2hj02DJUF2sCmUwClvtAzAz/KDhh/4870c7dDYcY7LBWzcwOoutQXYzKbA+BxXfh+19AM6oc65MY8ibQWMDoac7Agj/kh5QpkJaagLzsoYgPLRjiETnyuhAVYaM30b0r80AUiMZFxTZdXR2VeURjMBANkjoHFOoprGxcY58hbecDOO46hq7FtoF+GMlk9RCJAdCl3DkDe7fjxmt5r62/d/QhWAw4n7Br6QGWvVk9UFzMpHf766Y5vJ5YXq5wd6BQ0jsD/jK7WwaPZzCGLasxvxD6ciOWn9fWyaI5KN8x2fDTIFoumqIM6hfFzOAT/pETYEkHk7+5nuJr8CpsSp1ZHbl2p2xiGIl6E9b0dRMqemKGHh5SiNvaq6Tqsqd8iCLc2Qw5FpD9iKR+WFl4/2/At0xc243pERcDbgYNquaeA/6bhVupti3CE="
script:
  - mkdir build && cd build
  - cmake .. && make
  - ./check -s -r compact
