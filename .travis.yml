language: generic
matrix:
  include:
    - os: linux
      sudo: required
      env: COMPILER_NAME=gcc CXX=g++-5 CC=gcc-5
      addons:
        apt:
          packages:
            - g++-5
            - cmake
          sources: &sources
            - llvm-toolchain-precise
            - ubuntu-toolchain-r-test
    - os: osx
      compiler: clang-3.8
      env: COMPILER="clang++-3.8" -std=c++11 OPENSSL_ROOT_DIR="/usr/local/opt/openssl"
env:
  global:
    - secure: "Qxv4DzZZ+NAniw9Lxv5FUm9A35b2OEGdiUDMnSr94OLxAWlAvvtZ5cKdnvk+97JIFGDtPryz45JTGyZY7lyiL8wVPXADf9S7pIK4GjzspOlzQOnm4XepM5UO3BIfXVV5Zld7aqLRtlj0bDtvfZzE04FvZD3HNuG8eC+PnQMfrptG3AHpzT96Yxe2Ef733JrnTZ/0WV2uM1slqkDIHm3rp/UAEYE1U5dOcw0a4OhnccPdOHuf/eNLlsQkGhLbN0V/e0sWkL5j/Eoex7jxZnvLGJ+Qyfspn0yBEJgXXFcWcwmrhQprCUFcjbrBoaGtiXkTHaPjXSKU5zyJobAn22K55VoNezK+A+JzTGudEbh5+UqBPcjZHaexwQNxz7+GNo8haZajpuF5K5kE6i3/IoI8OkfI38XFt9Lfcq4KQz1AblcQqO2EQukzHEXr3ivDgmwL08gm2mx4l8oPjM5YxZGw0Y6RZvSxVgDYRCDXi9O3Hf9oJ7+pHXvoisof57seaipbyBIkQIRw69PD/u/aX5Azf9MlHLsXj06pIMzUkFBI9DibLJz+RQUGsz0dfAM2kh3hRHFB1Xg9QnPpQ3aMgoX9Ncl7l+CsX6iVe9w9O56SFEn079Y+Hcd+Mgd+UJCqUU3ApdMz/hWdIHrT39xObBLnRvK3nPS3y3+a6OWgqAjTTTY="
    - secure: "1abo3NmbxNlbdO1J13MRvUbXiAYLtwqF0exwA67rlB+WoHDPAM7rDAYynIdxH1cU9X11Qk8Y9sRMNxkicv0MGneRj6OksLIOzGSsQYQ1ugZ0XFs6hTEciDUU51ycZYDeh2WnSkvXzaTYgJHqMIZhM9sXYeDCNQGZ/qKYPioQz95+zqboBiAGqEZ2Z6uwM1p/+5W/bDUr2MRS3jY5XG+cX1xSVqfzFGCwlG1eB3Q7y2EeGneGtUoKXeT67zNByD4N7M3t5UCT6pRBb4um+P3PC3nYPI3ZFs4DdyyvRS5qRuzJFPCE7/I+1gxI96l6nKNAryYokYmN9qJgQ/e5mLtjMH2Mq2PTU/CYabLwVkhR9rvSoy3Rvm1W/6+izNbJidE/skZiQUwcPN98hmzTLgGQ32yrvd7P2VDUsWEy6bKpv55W1qtH2K4Mk2uMYeNcnQ0M0oRH/9ULgD3prmP5mBnaZOv49UlLVXh2m3Zolt4aujv+upijzCGY/5n18VXrI/HNiE8DJZ+BqJ7S6Pou5L3AQQrQKXSl4ysBEPBxeC6LcbwdlRXbl5Sz7wWezfmVJlMQeKZIuajoiFXZ9p5WFEtWKEUdxqAH05y9/pQRnl0TlqXUhsZfn2KHvuQ2l2EpE9zJP0ocind1/WnbOgSLwc2+VKmM/qE2HiAl55NieZxH0VI="
script:
  - mkdir build && cd build
  - cmake .. && make
  - ./check -s -r compact
