language: generic

# Можно тестировать только на одной платформе (в данном случае выбрано osx, clang-3.8)

matrix:
  include:
    #- os: linux
      #sudo: required
      #env: COMPILER_NAME=gcc CXX=g++-5 CC=gcc-5
      #addons:
        #apt:
          #packages:
            #- g++-5
            #- cmake
          #sources: &sources
            #- llvm-toolchain-precise
            #- ubuntu-toolchain-r-test
    - os: osx
      compiler: clang-3.8
      env: COMPILER="clang++-3.8" -std=c++11 OPENSSL_ROOT_DIR="/usr/local/ssl"

env:
  global:
    - secure: "Qxv4DzZZ+NAniw9Lxv5FUm9A35b2OEGdiUDMnSr94OLxAWlAvvtZ5cKdnvk+97JIFGDtPryz45JTGyZY7lyiL8wVPXADf9S7pIK4GjzspOlzQOnm4XepM5UO3BIfXVV5Zld7aqLRtlj0bDtvfZzE04FvZD3HNuG8eC+PnQMfrptG3AHpzT96Yxe2Ef733JrnTZ/0WV2uM1slqkDIHm3rp/UAEYE1U5dOcw0a4OhnccPdOHuf/eNLlsQkGhLbN0V/e0sWkL5j/Eoex7jxZnvLGJ+Qyfspn0yBEJgXXFcWcwmrhQprCUFcjbrBoaGtiXkTHaPjXSKU5zyJobAn22K55VoNezK+A+JzTGudEbh5+UqBPcjZHaexwQNxz7+GNo8haZajpuF5K5kE6i3/IoI8OkfI38XFt9Lfcq4KQz1AblcQqO2EQukzHEXr3ivDgmwL08gm2mx4l8oPjM5YxZGw0Y6RZvSxVgDYRCDXi9O3Hf9oJ7+pHXvoisof57seaipbyBIkQIRw69PD/u/aX5Azf9MlHLsXj06pIMzUkFBI9DibLJz+RQUGsz0dfAM2kh3hRHFB1Xg9QnPpQ3aMgoX9Ncl7l+CsX6iVe9w9O56SFEn079Y+Hcd+Mgd+UJCqUU3ApdMz/hWdIHrT39xObBLnRvK3nPS3y3+a6OWgqAjTTTY="
    - secure: "yU4gvVXJs8SjjHlOOo4OHFPs0QKIzkDNsC7l1eNkHMIZ0VzlvByXOluzmDCheQEHYvCP4xJkJC779TeOcIi05ediurKfx70Cd6SRsYFozOeqv/SPeNO0E0l+y3U9wULQ9yQHHG2z0GdE4QhtztrY7h2K3hsMXnKwCvF3jUaZJxkMrMrLKWIQ0tCLnGuhxMxhSdT3Z5/E8g0GLBCH1g1WtSg6Bq9UoU0cX6IZM6JHc5SBCRLflGoxBPNGZOTHeGJEStJzJ4P/IwNBmWfO7bfLugj9eMSp2gfj36L5Wq1WDomtm/ZZvudLtflblvH8njL4QMrgQ7ov9dReVIIevHhquY/9V6EPwdj/IJMCl11/oq4PdncSEzAPa+g2zCK8tlJTDsUrbcvpCdjqw7o4bzbniy5a+Mmy0T+hG/4EGck4JyeLbzX+iRMSw3ZLRnb5iCnB5HKenqy9To4X7JAPjFbTdLXTWHpQiGep6beqCY1sznQzIK/gs9pI6yInVDbpWPn4f74N8/LwGKkVgjAU6tJszFEuL4QQuGnRIsbUWhcaWTj5Oz+zTX0SueXZI/GjsqLMWbyFeCXEhjdyc1D508gi6Yu7VyRPloO4iX3DDNXkNJglniaon5/G71/w0Hez8gyD8A9zb9F1nJQE4UkOAY+sBcAw6hS2G/Yv7zjPRniXH9Q="

script:
  - mkdir build && cd build
  - cmake .. -DOPENSSL_ROOT_DIR=/usr/local/ssl -DOPENSSL_LIBRARIES=/usr/local/ssl/lib && make
  - ./check -s -r compact
